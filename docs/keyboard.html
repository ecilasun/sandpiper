<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Keyboard Manufacturing - Sandpiper</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
<header class="title-bar">
  <h1>Keyboard Manufacturing</h1>
</header>
<nav class="breadcrumb">
  <a href="index.html">Home</a> &gt; Keyboard Manufacturing
</nav>
<main class="content">
  <h2>Overview</h2>
  <p>The Sandpiper keyboard is a custom USB keyboard designed to fit into the provided enclosure. <strong>Note:</strong> This PCB is optional and is not required to run Sandpiperâ€”the system works with any standard USB keyboard.</p>

  <h2>Requirements</h2>
  <h3>Software</h3>
  <ul>
    <li><strong>PCB Design:</strong> KiCad 9 or above</li>
    <li><strong>Enclosure Design:</strong> SolidWorks (for modifications)</li>
    <li><strong>Firmware Programming:</strong> AVRdude, AVRdudess, or QMK Toolbox</li>
  </ul>

  <h3>Hardware</h3>
  <ul>
    <li>AVR programmer (for flashing firmware)</li>
    <li>6-pin ISP header</li>
  </ul>

  <h2>PCB Manufacturing</h2>
  <p>The PCB can be manufactured through online services such as:</p>
  <ul>
    <li><a href="https://oshpark.com/">OSH Park</a></li>
    <li><a href="https://jlcpcb.com/">JLCPCB</a></li>
  </ul>
  
  <div class="api-function">
    <p><strong>Important:</strong> When ordering, match the parts to the ones listed in the BOM as closely as possible. Mismatches in part numbers might result in wrong pin connections.</p>
  </div>

  <h2>Firmware Programming</h2>
  <p>To program the keyboard firmware:</p>
  <ol>
    <li>Locate the firmware in the <code>firmware/</code> folder of the <a href="https://github.com/ecilasun/sandpiper_pcb">sandpiper_pcb repository</a></li>
    <li>Use an AVR programmer with AVRdude, AVRdudess, or QMK Toolbox to flash the firmware</li>
    <li>The programming header goes on the <strong>bottom side</strong> of the board where the chip sits</li>
  </ol>

  <div class="api-function">
    <p><strong>ISP Pin Note:</strong> The square pin connection is actually the MISO pin and not the ground pin due to an error in the silkscreen. See the diagram below for correct pin locations:</p>
    <img src="images/ISPpins.png" alt="ISP Pins Diagram" style="max-width: 300px; margin-top: 10px;">
  </div>

  <h2>Keyboard Layout</h2>
  <p>The keyboard layout can be viewed and edited using:</p>
  <ul>
    <li><a href="https://www.keyboard-layout-editor.com/">Keyboard Layout Editor</a> - Import the <code>sandpiper-layout.json</code> file</li>
    <li><a href="https://kbfirmware.com/">KBFirmware</a> - Use to verify wiring and compile firmware</li>
  </ul>
  <p>A premade firmware layout file (<code>sandpiperfirmwarelayout.json</code>) is provided in the layout folder for convenience.</p>

  <h2>Enclosure</h2>
  <p>The enclosure is designed to be 3D printed:</p>
  <ul>
    <li><strong>Recommended Material:</strong> PETG-strong (very unlikely to warp)</li>
    <li><strong>Structure:</strong> One piece for top half, one piece for bottom half, plus side connection pieces</li>
  </ul>
  
  <div class="api-function">
    <p><strong>Note:</strong> Other materials might work but print at your own risk. There are no built-in measures in the design to avoid warping, so consider splitting the design manually if using warp-prone materials.</p>
  </div>

  <h2>Final Assembly</h2>
  <p>After programming:</p>
  <ul>
    <li><strong>Optionally, cut or remove the programming header pins</strong> once you're done, if you desire. The enclosure has a hole at the bottom plate to ensure the pins do not cause a problem.</li>
  </ul>

  <h2>Resources</h2>
  <ul>
    <li><a href="https://github.com/ecilasun/sandpiper_pcb">Sandpiper PCB Repository</a> - PCB schematics, keyboard firmware, and enclosure files</li>
  </ul>
</main>
<footer>
  <span>&copy; 2025 Engin Cilasun</span>
  <span>Page 6</span>
</footer>
</body>
</html>
